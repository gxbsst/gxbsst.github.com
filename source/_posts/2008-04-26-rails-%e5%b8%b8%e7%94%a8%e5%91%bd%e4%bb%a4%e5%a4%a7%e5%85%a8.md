---
title: rails 常用命令大全
author: gxbsst
layout: post
permalink: /archives/108
post_views_count:
  - 177
views:
  - 55
categories:
  - Ruby/Ruby on Rails
---
1.1 <span style="font-family:STHeiti;">创建一个</span>Rails<span style="font-family:STHeiti;">应用程序</span>  
$ rails app_name  
可<span style="font-family:STHeiti;">选项</span>:  
-d, database=xxx 指定安装一个数据<span style="font-family:STHeiti;">库</span>(mysql oracle postgresql sqlite2 sqlite3 ), 默<span style="font-family:STHeiti;">认情况下是数据库</span>  
-r, ruby-path= 指定Ruby的安装路径,如果没有指定，scripts使用env去找Ruby  
-f, freeze (<span style="font-family:STHeiti;">冻结</span>)freezes Rails在vendor/rails目<span style="font-family:STHeiti;">录</span>

1.2 API Documentation  
$ gem_server  
<span style="font-family:STHeiti;">启动一个</span>WEBrick服<span style="font-family:STHeiti;">务器。这时候你可以通过</span>Http://localhost:8808/ 打开<span style="font-family:STHeiti;">浏览器去查看</span>rails API文档

1.3 Rake  
rake db:fixtures:load  
\# <span style="font-family:STHeiti;">载入</span>fixtures到当前<span style="font-family:STHeiti;">环境的数据库</span>  
\# <span style="font-family:STHeiti;">载入指定的</span>fixtures使用FIXTURES=x,y  
rake db:migrate  
\# 迁移数据<span style="font-family:STHeiti;">库通过在</span>db/migrate目<span style="font-family:STHeiti;">录下的脚本</span>.可以指定版本号通<span style="font-family:STHeiti;">过</span>VERSION=x  
rake db:schema:dump  
\# <span style="font-family:STHeiti;">创建一个</span>db/schema.rb文件，通<span style="font-family:STHeiti;">过</span>AR能<span style="font-family:STHeiti;">过够支持任何数据库去使用</span>  
rake db:schema:load  
\# 再入一个schema.rb文件<span style="font-family:STHeiti;">进数据库</span>  
rake db:sessions:clear  
\# 清空sessions表  
rake db:sessions:create  
\# 用CGI::Session::ActiveRecordStore<span style="font-family:STHeiti;">创建一个</span>sessions表<span style="font-family:STHeiti;">为用户</span>  
rake db:structure:dump  
\# <span style="font-family:STHeiti;">导出数据库结构为一个</span>SQL文件  
rake db:test:clone  
\# 重新<span style="font-family:STHeiti;">创建一个测试数据库从当前环境数据库中</span>  
rake db:test:clone_structure  
\# 重新<span style="font-family:STHeiti;">创建测试数据库从开发模式数据库</span>  
rake db:test:prepare  
\# 准<span style="font-family:STHeiti;">备测试数据库并在入</span>schema  
rake db:test:purge  
\# 清空<span style="font-family:STHeiti;">测试数据库</span>  
rake doc:app  
\# <span style="font-family:STHeiti;">创建</span>HTML文件的API Documentation  
rake doc:clobber_app  
\# <span style="font-family:STHeiti;">删除</span>Documentation  
rake doc:clobber_plugins  
\# <span style="font-family:STHeiti;">删除</span> plugin Documentation  
rake doc:clobber_rails  
\# <span style="font-family:STHeiti;">删除</span>Documentation  
rake doc:plugins  
\# <span style="font-family:STHeiti;">产生</span>Documation<span style="font-family:STHeiti;">为所有安装的</span>plugins  
rake doc:rails  
\# <span style="font-family:STHeiti;">创建</span>HTML文件的API Documentation  
rake doc:reapp  
\# 强制重新<span style="font-family:STHeiti;">创建</span>HTML文件的API Documentation  
rake doc:rerails  
\# 强制重新<span style="font-family:STHeiti;">创建</span>HTML文件的API Documentation  
rake log:clear  
\# 清空目<span style="font-family:STHeiti;">录</span>log/下的所有日志文件  
rake rails:freeze:edge  
\# Lock this application to latest Edge Rails. Lock a specific revision with REVISION=X  
rake rails:freeze:gems  
\# Lock this application to the current gems (by unpacking them into vendor/rails)  
rake rails:unfreeze  
\# Unlock this application from freeze of gems or edge and return to a fluid use of system gems  
rake rails:update  
\# Update both scripts and public/javascripts from Rails  
rake rails:update:javascripts  
\# Update your javascripts from your current rails install  
rake rails:update:scripts  
\# Add new scripts to the application script/ directory  
rake stats  
\# Report code statistics (KLOCs, etc) from the application  
rake test  
\# Test all units and functionals  
rake test:functionals  
\# Run tests for functionalsdb:test:prepare  
rake test:integration  
\# Run tests for integrationdb:test:prepare  
rake test:plugins  
\# Run tests for pluginsenvironment  
rake test:recent  
\# Run tests for recentdb:test:prepare  
rake test:uncommitted  
\# Run tests for uncommitteddb:test:prepare  
rake test:units  
\# Run tests for unitsdb:test:prepare  
rake tmp:cache:clear  
\# 清空tmp/cache目<span style="font-family:STHeiti;">录下的所有文件</span>  
rake tmp:clear  
\# 清空session, cache, 和socket文件从tmp/目<span style="font-family:STHeiti;">录</span>  
rake tmp:create  
\# <span style="font-family:STHeiti;">为</span>sessions, cache, and sockets<span style="font-family:STHeiti;">创建</span>tmp/目<span style="font-family:STHeiti;">录</span>  
rake tmp:sessions:clear  
\# 清空所有在tmp/sessions目<span style="font-family:STHeiti;">录下的文件</span>  
rake tmp:sockets:clear  
\# 清空所有在tmp/sessions 目<span style="font-family:STHeiti;">录下的</span>ruby_sess.* 文件

1.4 Scripts  
script/about  
\# <span style="font-family:STHeiti;">输出当前环境信息</span>  
script/breakpointer  
\# <span style="font-family:STHeiti;">启动断点</span>server  
script/console  
\# <span style="font-family:STHeiti;">启动交换式的</span>Rails控制台  
script/destroy  
\# <span style="font-family:STHeiti;">删除通过</span>generators<span style="font-family:STHeiti;">创建的文件</span>  
script/generate  
\# -> generators  
script/plugin  
\# -> Plugins  
script/runner  
\# <span style="font-family:STHeiti;">执行一个任务在</span>rails上下文中  
script/server  
\# <span style="font-family:STHeiti;">启动开发模式服务器</span>http://localhost:3000  
//以下几个不知道怎么去使用  
script/performance/profiler  
script/performance/benchmarker  
script/process/reaper  
script/process/spawner

1.5 Generators  
ruby script/generate model ModelName  
ruby script/generate controller ListController show edit  
ruby script/generate scaffold ModelName ControllerName  
ruby script/generate migration AddNewTable  
ruby script/generate plugin PluginName  
ruby script/generate mailer Notification lost_password signup  
ruby script/generate web\_service ServiceName api\_one api_two  
ruby script/generate integration_test TestName  
ruby script/generate session_migration  
可<span style="font-family:STHeiti;">选项</span>:  
-p, &#8211;pretend Run but do not make any changes.  
-f, &#8211;force Overwrite files that already exist.  
-s, &#8211;skip Skip files that already exist.  
-q, &#8211;quiet Suppress normal output.  
-t, &#8211;backtrace Debugging: show backtrace on errors.  
-h, &#8211;help Show this help message.  
-c, &#8211;svn Modify files with subversion. (Note: svn must be in path) 

1.6 Plugins  
script/plugin discover  
\# discover plugin repositories  
script/plugin list  
\# list all available plugins  
script/plugin install where  
\# install the a€wherea€? plugin  
script/plugin install -x where  
\# install where plugin as SVN external  
script/plugin install http://invisible.ch/projects/plugins/where  
script/plugin update  
\# update installed plugins  
script/plugin source  
\# add a source repository  
script/plugin unsource  
\# removes a source repository  
script/plugin sources  
\# lists source repositories

转载请注明：[韦旭红的点点滴滴][1] &raquo; [rails 常用命令大全][2]

 [1]: http://www.weixuhong.com
 [2]: http://www.weixuhong.com/archives/108