---
title: 函数分析之merge
author: gxbsst
layout: post
permalink: /archives/75
post_views_count:
  - 113
views:
  - 31
categories:
  - Ruby/Ruby on Rails
---
def create(option={}) Account.create({:name =>&#8221;test&#8221;,:budget => 44  
}.merge(options))  
end

以下是merge的源代码

\# File lib/set.rb, line 253  
def merge(enum)  
if enum.is_a?(Set)  
@hash.update(enum.instance_eval { @hash })  
else  
enum.is_a?(Enumerable) or raise ArgumentError, &#8220;value must be enumerable&#8221;  
enum.each { |o| add(o) }  
end

self  
end

我对这的理解：merge是用来更新一数组的，但是create({})相当创建了新的数组，merge正好更新新的数组

转载请注明：[韦旭红的点点滴滴][1] &raquo; [函数分析之merge][2]

 [1]: http://www.weixuhong.com
 [2]: http://www.weixuhong.com/archives/75